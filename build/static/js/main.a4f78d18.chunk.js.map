{"version":3,"sources":["components/Filter.js","components/SuccessNotification.js","components/ErrorNotification.js","components/PersonForm.js","services/phonebook.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["Filter","search","setSearch","value","onChange","e","target","SuccessNotification","message","className","ErrorNotification","PersonForm","addName","newName","setNewName","newNumber","setNewNumber","onSubmit","type","baseURL","createContact","newContact","a","axios","post","then","res","data","deleteContact","id","delete","request","updateContact","newObject","put","getAll","get","Person","person","persons","setPersons","setErrorMessage","name","number","onClick","window","confirm","console","log","phonebook","filter","item","catch","error","setTimeout","Persons","toLowerCase","includes","map","App","useState","successMessage","setSuccessMessage","errorMessage","preventDefault","some","find","concat","info","response","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a4f78d18.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ search, setSearch }) => {\n  return (\n    <div>\n      Filter shown with{\" \"}\n      <input value={search} onChange={(e) => setSearch(e.target.value)}></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div className=\"message message--success\">\n      {message}\n      <br />\n    </div>\n  );\n};\n\nexport default SuccessNotification;\n","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"message message--error\">{message}</div>;\n};\n\nexport default ErrorNotification;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addName,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name:{\" \"}\n        <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input\n          value={newNumber}\n          onChange={(e) => setNewNumber(e.target.value)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst baseURL = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then((res) => res.data);\n};\n\nconst createContact = async (newContact) => {\n  // const request = axios.post(baseURL, newContact);\n  // return request.then((res) => res.data);\n  return axios.post(baseURL, newContact).then((res) => res.data);\n};\n\nconst deleteContact = async (id) => {\n  const request = await axios.delete(`${baseURL}/${id}`);\n  return request.data;\n};\n\nconst updateContact = async (id, newObject) => {\n  const request = await axios.put(`${baseURL}/${id}`, newObject);\n  //   console.log(\"updateContact's response is \", request.data);\n  return request.data;\n};\n\nexport default { getAll, createContact, deleteContact, updateContact };\n","import React from \"react\";\nimport phonebook from \"../services/phonebook\";\n\nconst Person = ({ person, persons, setPersons, setErrorMessage }) => {\n  const deletePerson = () => {\n    //   Remove from server\n    const toDelete = window.confirm(\n      `Are you sure you want to delete ${person.name}'s contact info?`\n    );\n    if (toDelete) {\n      console.log(person.id);\n      phonebook\n        .deleteContact(person.id)\n        .then((data) => {\n          // delete from frontend\n          console.log(data);\n          setPersons(persons.filter((item) => item.id !== person.id));\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${person.name} has already been removed from server`\n          );\n          setTimeout(() => setErrorMessage(null), 5000);\n        });\n    }\n  };\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <button id={person.id} onClick={deletePerson}>\n        delete\n      </button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport phonebook from \"../services/phonebook\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, search, setPersons, setErrorMessage }) => {\n  return persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(search.toLowerCase())\n    )\n    .map((person) => (\n      <Person\n        person={person}\n        setPersons={setPersons}\n        persons={persons}\n        setErrorMessage={setErrorMessage}\n      />\n    ));\n};\n\nexport default Persons;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport SuccessNotification from \"./components/SuccessNotification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phonebook from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const addName = async (e) => {\n    e.preventDefault();\n    console.log(\"This event is \", e);\n    console.log(persons.filter((person) => person.name === newName));\n    // If person is already in database\n    if (persons.some((person) => person.name === newName)) {\n      console.log(newName);\n      const addNew = window.confirm(\n        `${newName} is already added to phonebook. Do you want to update their phone number?`\n      );\n      // Submit a put request\n      if (addNew) {\n        const id = persons.find((person) => person.name === newName).id;\n        // console.log(\"id is\", id);\n        // Update Backend - Submit PUT request\n        phonebook\n          .updateContact(id, {\n            name: newName,\n            number: newNumber,\n          })\n          .then((data) => {\n            // Update Frontend, if backend request was successful\n            console.log(\"Updating front end\", data);\n            setPersons(\n              persons.filter((person) => person.id != data.id).concat(data)\n            );\n            console.log(\n              \"After updating front end, this is what I have locally stored\",\n              persons\n            );\n            setSuccessMessage(`Successfully updated ${data.name}`);\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n            // setSuccessMessage(null);\n          });\n      }\n    }\n    // if person is not already in database, add a new one\n    else {\n      const newContact = {\n        name: newName,\n        number: newNumber,\n      };\n      phonebook\n        .createContact(newContact)\n        .then((data) => {\n          console.log(\n            \"creating contact successfully has returned the following data\",\n            data\n          );\n          setPersons(persons.concat(data));\n          setSuccessMessage(`Successfully added ${data.name}`);\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          console.log(\"error is \", error);\n          const info = error.response.data;\n          console.log(info);\n\n          setErrorMessage(error.response.data);\n          setTimeout(() => setErrorMessage(null), 5000);\n        });\n    }\n  };\n\n  useEffect(() => {\n    phonebook.getAll().then((data) => {\n      setPersons(data);\n      // console.log(data);\n    });\n  }, []);\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter search={search} setSearch={setSearch} />\n      <h2>add a new</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        search={search}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}