{"version":3,"sources":["components/Filter.js","components/SuccessNotification.js","components/ErrorNotification.js","components/PersonForm.js","services/phonebook.js","components/Person.js","components/Persons.js","App.js","index.js"],"names":["Filter","search","setSearch","value","onChange","e","target","SuccessNotification","message","className","ErrorNotification","PersonForm","addName","newName","setNewName","newNumber","setNewNumber","onSubmit","type","baseURL","createContact","newContact","a","id","Math","round","random","request","axios","post","then","res","data","deleteContact","delete","updateContact","newObject","put","getAll","get","Person","person","persons","setPersons","setErrorMessage","name","number","onClick","window","confirm","console","log","phonebook","filter","item","catch","error","setTimeout","Persons","toLowerCase","includes","map","App","useState","successMessage","setSuccessMessage","errorMessage","preventDefault","some","find","concat","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.82ecae51.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ search, setSearch }) => {\n  return (\n    <div>\n      Filter shown with{\" \"}\n      <input value={search} onChange={(e) => setSearch(e.target.value)}></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div className=\"message message--success\">\n      {message}\n      <br />\n    </div>\n  );\n};\n\nexport default SuccessNotification;\n","import React from \"react\";\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"message message--error\">{message}</div>;\n};\n\nexport default ErrorNotification;\n","import React from \"react\";\n\nconst PersonForm = ({\n  addName,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name:{\" \"}\n        <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input\n          value={newNumber}\n          onChange={(e) => setNewNumber(e.target.value)}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst baseURL = \"api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseURL);\n  return request.then((res) => res.data);\n};\n\nconst createContact = async (newContact) => {\n  newContact = {\n    ...newContact,\n    id: Math.round(Math.random() * 10000),\n  };\n  const request = axios.post(baseURL, newContact);\n  return request.then((res) => res.data);\n};\n\nconst deleteContact = async (id) => {\n  const request = await axios.delete(`${baseURL}/${id}`);\n  return request.data;\n};\n\nconst updateContact = async (id, newObject) => {\n  const request = await axios.put(`${baseURL}/${id}`, newObject);\n  //   console.log(\"updateContact's response is \", request.data);\n  return request.data;\n};\n\nexport default { getAll, createContact, deleteContact, updateContact };\n","import React from \"react\";\nimport phonebook from \"../services/phonebook\";\n\nconst Person = ({ person, persons, setPersons, setErrorMessage }) => {\n  const deletePerson = () => {\n    //   Remove from server\n    const toDelete = window.confirm(\n      `Are you sure you want to delete ${person.name}'s contact info?`\n    );\n    if (toDelete) {\n      console.log(person.id);\n      phonebook\n        .deleteContact(person.id)\n        .then((data) => {\n          // delete from frontend\n          console.log(data);\n          setPersons(persons.filter((item) => item.id !== person.id));\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${person.name} has already been removed from server`\n          );\n          setTimeout(() => setErrorMessage(null), 5000);\n        });\n    }\n  };\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <button id={person.id} onClick={deletePerson}>\n        delete\n      </button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport phonebook from \"../services/phonebook\";\nimport Person from \"./Person\";\n\nconst Persons = ({ persons, search, setPersons, setErrorMessage }) => {\n  return persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(search.toLowerCase())\n    )\n    .map((person) => (\n      <Person\n        person={person}\n        setPersons={setPersons}\n        persons={persons}\n        setErrorMessage={setErrorMessage}\n      />\n    ));\n};\n\nexport default Persons;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport SuccessNotification from \"./components/SuccessNotification\";\nimport ErrorNotification from \"./components/ErrorNotification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phonebook from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const addName = async (e) => {\n    e.preventDefault();\n    console.log(\"This event is \", e);\n    console.log(persons.filter((person) => person.name === newName));\n    // If person is already in database\n    if (persons.some((person) => person.name === newName)) {\n      console.log(newName);\n      const addNew = window.confirm(\n        `${newName} is already added to phonebook. Do you want to update their phone number?`\n      );\n      if (addNew) {\n        const id = persons.find((person) => person.name === newName).id;\n        // console.log(\"id is\", id);\n        // Update Backend\n        phonebook\n          .updateContact(id, {\n            name: newName,\n            number: newNumber,\n          })\n          .then((data) => {\n            // Update Frontend, if backend request was successful\n\n            setPersons(\n              persons.filter((person) => person.id !== data.id).concat(data)\n            );\n            setSuccessMessage(`Successfully updated ${data.name}`);\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n            // setSuccessMessage(null);\n          });\n      }\n    }\n    // if person is not already in database, add a new one\n    else {\n      const newContact = {\n        name: newName,\n        number: newNumber,\n      };\n      phonebook.createContact(newContact).then((data) => {\n        setPersons(persons.concat(data));\n        setSuccessMessage(`Successfully added ${data.name}`);\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 5000);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n\n  useEffect(() => {\n    phonebook.getAll().then((data) => {\n      setPersons(data);\n      // console.log(data);\n    });\n  }, []);\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter search={search} setSearch={setSearch} />\n      <h2>add a new</h2>\n      <PersonForm\n        addName={addName}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        search={search}\n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}